$ipsToTest = @(
    "30.168.1.255.1",
    "127.1",
    "192.168.1.256",
    "-1.2.3.4",
    "3...3",
    "127.0.0.1",
    "192.168.1.1",
    "192.168.1.255",
    "255.255.255.255",
    "0.0.0.0",
    "1.1.1.01"
)
# For CIDR notation:
$regEx = "^(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9]{1})(\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9]{1})){3}/(3[0-2]|[1-2][0-9]|[0-9]{1})$"
# For pure IP address:
$regEx = "^(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9]{1})(\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9]{1})){3}$"

Foreach ($ip in $ipsToTest) {
    Write-Host $ip
    $ip -cmatch $regEx
    Write-Host "`r"
}
